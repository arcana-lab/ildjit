#!/bin/sh
#
# cleanup: remove useless files

echo 'Cleaning enviroment...'
# Files generated by autotools and make
rm -rf \
  aclocal.m4 \
  autom4te.cache \
  build-aux \
  configure \
  config.log \
  config.status \
  INSTALL \
  libtool \
  *.tar.gz \
  lib/Makefile \
  lib/Makefile.in \
  lib/.deps \
  lib/.libs \
  Makefile \
  Makefile.in \
  test/Makefile \
  test/Makefile.in \
  test/bench/benchmarks \
  test/bench/Makefile \
  test/bench/Makefile.in \
  test/unit/gc_copy_unit_test \
  test/unit/Makefile \
  test/unit/Makefile.in \
  test/unit/.deps \
  test/unit/.libs \
  doc/Makefile \
  doc/Makefile.in \
  doc/doxygen
if [ $? -ne 0 ]; then
  echo 'Failed removing one[some] file[s]'
  exit 1
fi

echo 'Removing swap files...'
find . -name '.*.swp' | xargs rm -f
if [ $? -ne 0 ]; then
  echo 'Failed removing swap files'
  exit 1
fi

echo 'Removing object files...'
find . -name '*.o' | xargs rm -f
if [ $? -ne 0 ]; then
  echo 'Failed removing object files'
  exit 1
fi

echo 'Removing libtool objects...'
find . -name '*.lo' | xargs rm -f
if [ $? -ne 0 ]; then
  echo 'Failed removing libtool objects'
  exit 1
fi

echo 'Removing libtool libraries...'
find . -name '*.la' | xargs rm -f
if [ $? -ne 0 ]; then
  echo 'Failed removing libtool libraries'
  exit 1
fi

echo 'Removing .NET CIL files...'
find . -name '*.exe' | xargs rm -f
if [ $? -ne 0 ]; then
  echo 'Failing removing .NET CIL files'
  exit 1
fi

echo 'Build environment now is clean'
